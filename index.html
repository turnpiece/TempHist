<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TempHist &ndash; the temperature on this day each year</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.js" defer></script>
    <script
      src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@1.4.0/dist/chartjs-plugin-annotation.min.js"
      defer
    ></script>
    <link rel="dns-prefetch" href="https://api.temphist.com" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header id="header">
      <div class="header-left">
        <a href="#/today">
          <div id="logo">
            <object data="assets/logo.svg" type="image/svg+xml" title="TempHist">
              <img
                src="assets/logo.png"
                alt="TempHist logo"
                width="50"
                height="50"
              />
            </object>
          </div>
          <h1>TempHist</h1>
        </a>
      </div>
      <button id="burgerBtn" aria-label="Open menu" aria-controls="sidebar" aria-expanded="false">☰</button>
    </header>

    <div id="appShell">
      <nav id="sidebar" aria-label="Primary">
        <ul>
          <li><a href="#/today" data-route="/today">Today</a></li>
          <li><a href="#/week" data-route="/week">Past week</a></li>
          <li><a href="#/month" data-route="/month">Past month</a></li>
          <li><a href="#/year" data-route="/year">Past year</a></li>
          <li><a href="/about" data-route="/about">About</a></li>
          <li><a href="/privacy" data-route="/privacy">Privacy</a></li>
        </ul>
      </nav>

      <main id="viewOutlet" role="main">
        <!-- Default view (Today) keeps your existing chart DOM -->
        <section id="todayView" data-view="today">
          <div class="container">
            <h2 id="dateText" class="date-heading"></h2>
            <div id="locationText" class="standard-text"></div>
            <div id="dataNotice" class="notice"></div>
            <div id="summaryText" class="standard-text"></div>
            
            <div class="chart-container">
              <div id="loading" class="loading">
                <div class="spinner"></div>
                <p id="loadingText" class="loading-text">Loading temperature data…</p>
              </div>
              
              <div id="errorContainer" style="display: none;">
                <div id="errorMessage"></div>
                <button id="reloadButton">Reload</button>
              </div>
              
              <canvas id="tempChart"></canvas>
            </div>
            
            <div id="avgText" class="standard-text"></div>
            <div id="trendText" class="standard-text"></div>
          </div>
        </section>

        <!-- Placeholders for other pages (rendered dynamically) -->
        <section id="weekView" data-view="week" hidden></section>
        <section id="monthView" data-view="month" hidden></section>
        <section id="yearView" data-view="year" hidden></section>
      </main>
    </div>


    <script type="module" src="/app.js" defer></script>
    <script src="router.js" defer></script>
  </body>
</html>
